@page
@model todolist.Pages.Planner.PlannerModel
@{
    ViewData["Title"] = "Planner";
    List<DateOnly> leftDays = Model.DaysOfWeek.Take(3).ToList();
    List<DateOnly> rightDays = Model.DaysOfWeek.Skip(3).Take(2).ToList();
    List<DateOnly> weekend = Model.DaysOfWeek.Skip(5).ToList();
}

<h1>@Model.MonthYear</h1>

<div class="d-flex sm-flex-wrap justify-content-center gap-0" style="min-height: 40rem;">
    <div class="d-flex flex-column w-100 gap-0 h-100">
        @foreach (DateOnly day in leftDays)
        {
            @await Html.PartialAsync("_PlannerDayCard", Model.BuildPlannerDayViewModel(day))
        }
    </div>

    <div class="d-flex flex-column w-100 gap-0 h-100">
        @foreach (DateOnly day in rightDays)
        {
            @await Html.PartialAsync("_PlannerDayCard", Model.BuildPlannerDayViewModel(day))
        }

        <div class="d-flex gap-0 w-100 h-100">
            @foreach (DateOnly day in weekend)
            {
                <div class="flex-grow-1" style="min-width: 0;">
                    @await Html.PartialAsync("_PlannerDayCard", Model.BuildPlannerDayViewModel(day))
                </div>
            }
        </div>
    </div>
</div>
